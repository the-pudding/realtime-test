import{S as G,i as H,s as q,k as d,e as B,I as be,l as _,h as l,n as s,C as i,B as z,J as $,b as K,H as we,o as ye,q as U,m as S,r as X,a as j,c as P,K as L,L as Q,M as _e,u as x,N as ge,w as te,x as ne,y as oe,f as re,t as ae,z as se,O as ie}from"../../chunks/index-c79998df.js";import{c as Z,t as ve}from"../../chunks/index-f71bda57.js";function le(t,e,n){const o=t.slice();return o[5]=e[n],o}function ce(t){let e,n;return{c(){e=d("link"),this.h()},l(o){e=_(o,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){s(e,"rel","preload"),s(e,"href",n=t[5]),s(e,"as","font"),s(e,"type","font/woff2"),s(e,"crossorigin","")},m(o,a){K(o,e,a)},p(o,a){a&16&&n!==(n=o[5])&&s(e,"href",n)},d(o){o&&l(e)}}}function ke(t){let e,n,o,a,r,u,w,h,f,c,b,m,y,A,J,N,V,W,O,I,p,v,k,D,C,F;document.title=e=t[0];let R=t[4],E=[];for(let T=0;T<R.length;T+=1)E[T]=ce(le(t,R,T));return{c(){n=d("meta"),o=d("meta"),a=d("meta"),r=d("meta"),u=d("meta"),w=d("meta"),h=d("meta"),f=d("meta"),c=d("meta"),b=d("meta"),y=d("meta"),A=d("meta"),J=d("meta"),N=d("meta"),V=d("meta"),W=d("meta"),O=d("meta"),I=d("meta"),p=d("meta"),k=d("meta"),D=d("link");for(let T=0;T<E.length;T+=1)E[T].c();F=B(),this.h()},l(T){const g=be("svelte-1htu80s",document.head);n=_(g,"META",{name:!0,content:!0}),o=_(g,"META",{name:!0,content:!0}),a=_(g,"META",{name:!0,content:!0}),r=_(g,"META",{property:!0,content:!0}),u=_(g,"META",{property:!0,content:!0}),w=_(g,"META",{property:!0,content:!0}),h=_(g,"META",{property:!0,content:!0}),f=_(g,"META",{property:!0,content:!0}),c=_(g,"META",{property:!0,content:!0}),b=_(g,"META",{property:!0,content:!0}),y=_(g,"META",{property:!0,content:!0}),A=_(g,"META",{property:!0,content:!0}),J=_(g,"META",{property:!0,content:!0}),N=_(g,"META",{name:!0,content:!0}),V=_(g,"META",{name:!0,content:!0}),W=_(g,"META",{name:!0,content:!0}),O=_(g,"META",{name:!0,content:!0}),I=_(g,"META",{name:!0,content:!0}),p=_(g,"META",{name:!0,content:!0}),k=_(g,"META",{name:!0,content:!0}),D=_(g,"LINK",{rel:!0,href:!0});for(let M=0;M<E.length;M+=1)E[M].l(g);F=B(),g.forEach(l),this.h()},h(){s(n,"name","description"),s(n,"content",t[1]),s(o,"name","author"),s(o,"content","The Pudding"),s(a,"name","news_keywords"),s(a,"content",t[3]),s(r,"property","og:title"),s(r,"content",t[0]),s(u,"property","og:site_name"),s(u,"content","The Pudding"),s(w,"property","og:url"),s(w,"content",t[2]),s(h,"property","og:description"),s(h,"content",t[1]),s(f,"property","og:type"),s(f,"content","article"),s(c,"property","og:locale"),s(c,"content","en_US"),s(b,"property","og:image"),s(b,"content",m=t[2]+"/assets/social-facebook.jpg"),s(y,"property","og:image:type"),s(y,"content","image/jpeg"),s(A,"property","og:image:width"),s(A,"content","1200"),s(J,"property","og:image:height"),s(J,"content","600"),s(N,"name","twitter:card"),s(N,"content","summary_large_image"),s(V,"name","twitter:site"),s(V,"content","https://pudding.cool"),s(W,"name","twitter:creator"),s(W,"content","@puddingviz"),s(O,"name","twitter:title"),s(O,"content",t[0]),s(I,"name","twitter:description"),s(I,"content",t[1]),s(p,"name","twitter:image:src"),s(p,"content",v=t[2]+"/assets/social-twitter.jpg"),s(k,"name","robots"),s(k,"content","max-image-preview:large"),s(D,"rel","canonical"),s(D,"href",C=t[2]+"/")},m(T,g){i(document.head,n),i(document.head,o),i(document.head,a),i(document.head,r),i(document.head,u),i(document.head,w),i(document.head,h),i(document.head,f),i(document.head,c),i(document.head,b),i(document.head,y),i(document.head,A),i(document.head,J),i(document.head,N),i(document.head,V),i(document.head,W),i(document.head,O),i(document.head,I),i(document.head,p),i(document.head,k),i(document.head,D);for(let M=0;M<E.length;M+=1)E[M].m(document.head,null);i(document.head,F)},p(T,[g]){if(g&1&&e!==(e=T[0])&&(document.title=e),g&2&&s(n,"content",T[1]),g&8&&s(a,"content",T[3]),g&1&&s(r,"content",T[0]),g&4&&s(w,"content",T[2]),g&2&&s(h,"content",T[1]),g&4&&m!==(m=T[2]+"/assets/social-facebook.jpg")&&s(b,"content",m),g&1&&s(O,"content",T[0]),g&2&&s(I,"content",T[1]),g&4&&v!==(v=T[2]+"/assets/social-twitter.jpg")&&s(p,"content",v),g&4&&C!==(C=T[2]+"/")&&s(D,"href",C),g&16){R=T[4];let M;for(M=0;M<R.length;M+=1){const ee=le(T,R,M);E[M]?E[M].p(ee,g):(E[M]=ce(ee),E[M].c(),E[M].m(F.parentNode,F))}for(;M<E.length;M+=1)E[M].d(1);E.length=R.length}},i:z,o:z,d(T){l(n),l(o),l(a),l(r),l(u),l(w),l(h),l(f),l(c),l(b),l(y),l(A),l(J),l(N),l(V),l(W),l(O),l(I),l(p),l(k),l(D),$(E,T),l(F)}}}function Ie(t,e,n){let{title:o="Title TK"}=e,{description:a="Description TK"}=e,{url:r="https://pudding.cool"}=e,{keywords:u=""}=e,{preloadFont:w=[]}=e;return t.$$set=h=>{"title"in h&&n(0,o=h.title),"description"in h&&n(1,a=h.description),"url"in h&&n(2,r=h.url),"keywords"in h&&n(3,u=h.keywords),"preloadFont"in h&&n(4,w=h.preloadFont)},[o,a,r,u,w]}class Te extends G{constructor(e){super(),H(this,e,Ie,ke,q,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}const Ee="https://dbmtysppmiwwjwaeneex.supabase.co",Me="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",Ae=Z(Ee,Me),ue=async({table:t,data:e})=>{const n={returning:"minimal"},o=await Ae.from(t).insert(e,n);if(o.error)throw console.log(o.error),new Error("insert failed");return o};function Ne(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var o=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,r=new Array(a);++o<a;)r[o]=t+o*n;return r}function Y(t,e,n){this.k=t,this.x=e,this.y=n}Y.prototype={constructor:Y,scale:function(t){return t===1?this:new Y(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Y(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Y(1,0,0);Y.prototype;function me(t,e,n){const o=t.slice();return o[18]=e[n],o}function he(t,e,n){const o=t.slice();return o[21]=e[n],o}function Je(t){let e,n;return{c(){e=d("h2"),n=U("Waiting for game to begin...")},l(o){e=_(o,"H2",{});var a=S(e);n=X(a,"Waiting for game to begin..."),a.forEach(l)},m(o,a){K(o,e,a),i(e,n)},p:z,d(o){o&&l(e)}}}function Oe(t){let e,n,o,a=t[4].toFixed(2)+"",r,u,w,h,f,c,b,m,y,A,J,N,V,W,O=Object.keys(t[0]),I=[];for(let p=0;p<O.length;p+=1)I[p]=pe(me(t,O,p));return{c(){e=d("section"),n=d("h2"),o=U("time: "),r=U(a),u=j(),w=d("p"),h=U('Words that start with "p"'),f=j(),c=d("form"),b=d("input"),m=j(),y=d("button"),A=U("Submit"),J=j(),N=d("div");for(let p=0;p<I.length;p+=1)I[p].c();this.h()},l(p){e=_(p,"SECTION",{class:!0});var v=S(e);n=_(v,"H2",{});var k=S(n);o=X(k,"time: "),r=X(k,a),k.forEach(l),u=P(v),w=_(v,"P",{});var D=S(w);h=X(D,'Words that start with "p"'),D.forEach(l),f=P(v),c=_(v,"FORM",{});var C=S(c);b=_(C,"INPUT",{}),m=P(C),y=_(C,"BUTTON",{type:!0});var F=S(y);A=X(F,"Submit"),F.forEach(l),C.forEach(l),J=P(v),N=_(v,"DIV",{class:!0});var R=S(N);for(let E=0;E<I.length;E+=1)I[E].l(R);R.forEach(l),v.forEach(l),this.h()},h(){s(y,"type","submit"),s(N,"class","players"),s(e,"class","play")},m(p,v){K(p,e,v),i(e,n),i(n,o),i(n,r),i(e,u),i(e,w),i(w,h),i(e,f),i(e,c),i(c,b),L(b,t[2]),i(c,m),i(c,y),i(y,A),i(e,J),i(e,N);for(let k=0;k<I.length;k+=1)I[k].m(N,null);V||(W=[Q(b,"input",t[9]),Q(c,"submit",_e(t[7]))],V=!0)},p(p,v){if(v&16&&a!==(a=p[4].toFixed(2)+"")&&x(r,a),v&4&&b.value!==p[2]&&L(b,p[2]),v&1){O=Object.keys(p[0]);let k;for(k=0;k<O.length;k+=1){const D=me(p,O,k);I[k]?I[k].p(D,v):(I[k]=pe(D),I[k].c(),I[k].m(N,null))}for(;k<I.length;k+=1)I[k].d(1);I.length=O.length}},d(p){p&&l(e),$(I,p),V=!1,ge(W)}}}function De(t){let e,n,o,a,r,u,w,h,f,c,b;return{c(){e=d("section"),n=d("p"),o=U("enter your name"),a=j(),r=d("form"),u=d("input"),w=j(),h=d("button"),f=U("Submit"),this.h()},l(m){e=_(m,"SECTION",{class:!0});var y=S(e);n=_(y,"P",{});var A=S(n);o=X(A,"enter your name"),A.forEach(l),a=P(y),r=_(y,"FORM",{});var J=S(r);u=_(J,"INPUT",{}),w=P(J),h=_(J,"BUTTON",{type:!0});var N=S(h);f=X(N,"Submit"),N.forEach(l),J.forEach(l),y.forEach(l),this.h()},h(){s(h,"type","submit"),s(e,"class","name")},m(m,y){K(m,e,y),i(e,n),i(n,o),i(e,a),i(e,r),i(r,u),L(u,t[1]),i(r,w),i(r,h),i(h,f),c||(b=[Q(u,"input",t[8]),Q(r,"submit",_e(t[6]))],c=!0)},p(m,y){y&2&&u.value!==m[1]&&L(u,m[1])},d(m){m&&l(e),c=!1,ge(b)}}}function fe(t){let e,n=t[21]+"",o;return{c(){e=d("li"),o=U(n)},l(a){e=_(a,"LI",{});var r=S(e);o=X(r,n),r.forEach(l)},m(a,r){K(a,e,r),i(e,o)},p(a,r){r&1&&n!==(n=a[21]+"")&&x(o,n)},d(a){a&&l(e)}}}function pe(t){let e,n,o=t[0][t[18]].name+"",a,r,u,w,h=t[0][t[18]].answers,f=[];for(let c=0;c<h.length;c+=1)f[c]=fe(he(t,h,c));return{c(){e=d("div"),n=d("p"),a=U(o),r=j(),u=d("ul");for(let c=0;c<f.length;c+=1)f[c].c();w=j(),this.h()},l(c){e=_(c,"DIV",{class:!0});var b=S(e);n=_(b,"P",{class:!0});var m=S(n);a=X(m,o),m.forEach(l),r=P(b),u=_(b,"UL",{});var y=S(u);for(let A=0;A<f.length;A+=1)f[A].l(y);y.forEach(l),w=P(b),b.forEach(l),this.h()},h(){s(n,"class","name"),s(e,"class","player svelte-w5tia3")},m(c,b){K(c,e,b),i(e,n),i(n,a),i(e,r),i(e,u);for(let m=0;m<f.length;m+=1)f[m].m(u,null);i(e,w)},p(c,b){if(b&1&&o!==(o=c[0][c[18]].name+"")&&x(a,o),b&1){h=c[0][c[18]].answers;let m;for(m=0;m<h.length;m+=1){const y=he(c,h,m);f[m]?f[m].p(y,b):(f[m]=fe(y),f[m].c(),f[m].m(u,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=h.length}},d(c){c&&l(e),$(f,c)}}}function Se(t){let e;function n(r,u){return r[3]==="name"?De:r[3]==="play"?Oe:Je}let o=n(t),a=o(t);return{c(){a.c(),e=B()},l(r){a.l(r),e=B()},m(r,u){a.m(r,u),K(r,e,u)},p(r,[u]){o===(o=n(r))&&a?a.p(r,u):(a.d(1),a=o(r),a&&(a.c(),a.m(e.parentNode,e)))},i:z,o:z,d(r){a.d(r),r&&l(e)}}}function Ve(t,e,n){let o;const a="https://dbmtysppmiwwjwaeneex.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",u=Z(a,r),w=ve(0);we(t,w,p=>n(4,o=p));let h,f={},c,b,m,y;const A=p=>{const v="0123456789abcdefghijklmnopqrstuvwxyz".split("");return Ne(p).map(()=>{const D=Math.floor(Math.random()*v.length);return v[D]}).join("")},J=async()=>{c=A(6),await ue({table:"wordgame_tournament-players",data:{name:b,user:c}})},N=()=>{u.channel("public:tournament-answers").on("postgres_changes",{event:"INSERT",schema:"public",table:"wordgame_tournament-answers"},p=>{const v=f[p.new.user];v.answers=[...v.answers,p.new.text],n(0,f)}).subscribe()},V=()=>{u.channel("public:info").on("postgres_changes",{event:"INSERT",schema:"public",table:"wordgame_tournament-players"},p=>{n(0,f[p.new.user]={name:p.new.name,answers:[]},f)}).subscribe()},W=async()=>{await ue({table:"wordgame_tournament-answers",data:{user:c,text:m}}),n(2,m="")};ye(()=>{h=Z(a,r).channel("game"),h.on("broadcast",{event:"view"},({payload:v})=>{n(3,y=v)}).on("broadcast",{event:"clock"},({payload:v})=>{v?(w.set(0,{duration:0}),w.set(10,{duration:1e4}).then(()=>{console.log("promise",Date.now())})):(console.log("stop",Date.now(),o),w.set(10,{duration:0}))}).subscribe(),N(),V()});function O(){b=this.value,n(1,b)}function I(){m=this.value,n(2,m)}return[f,b,m,y,o,w,J,W,O,I]}class We extends G{constructor(e){super(),H(this,e,Ve,Se,q,{})}}const Ce="Title TK",Fe="Description tk.",de={title:Ce,description:Fe};function Re(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 4.4.0"),console.log("build: 2022-12-20-14:55"),console.log("--- --- --- --- --- ---")}function Ue(t){let e,n,o,a;return e=new Te({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),o=new We({}),{c(){te(e.$$.fragment),n=j(),te(o.$$.fragment)},l(r){ne(e.$$.fragment,r),n=P(r),ne(o.$$.fragment,r)},m(r,u){oe(e,r,u),K(r,n,u),oe(o,r,u),a=!0},p:z,i(r){a||(re(e.$$.fragment,r),re(o.$$.fragment,r),a=!0)},o(r){ae(e.$$.fragment,r),ae(o.$$.fragment,r),a=!1},d(r){se(e,r),r&&l(n),se(o,r)}}}function Xe(t,e,n){let{data:o}=e;Re();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:r,description:u,url:w,keywords:h}=de;return ie("copy",de),ie("data",o.data),t.$$set=f=>{"data"in f&&n(5,o=f.data)},[a,r,u,w,h,o]}class Ke extends G{constructor(e){super(),H(this,e,Xe,Ue,q,{data:5})}}export{Ke as default};
