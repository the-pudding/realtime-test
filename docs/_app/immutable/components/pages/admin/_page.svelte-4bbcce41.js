import{S as R,i as Z,s as K,k as u,q as b,a as v,l as p,m,r as I,h as d,c as w,b as L,C as e,L as B,u as W,B as D,N as Y,H as j,o as q,w as G,x as tt,y as et,f as nt,t as at,z as st}from"../../../chunks/index-c79998df.js";import{t as ot,c as ct}from"../../../chunks/index-f71bda57.js";function lt(l){let t,s,a,c,r,$,C,o,g,J,_,i,h,k,V,O,y,U,x,E,N=l[0].toFixed(2)+"",T,A,H;return{c(){t=u("section"),s=u("h1"),a=b("Admin"),c=v(),r=u("h2"),$=b("View"),C=v(),o=u("button"),g=b("name"),J=v(),_=u("button"),i=b("play"),h=v(),k=u("h2"),V=b("Clock"),O=v(),y=u("button"),U=b("start"),x=v(),E=u("p"),T=b(N)},l(f){t=p(f,"SECTION",{});var n=m(t);s=p(n,"H1",{});var S=m(s);a=I(S,"Admin"),S.forEach(d),c=w(n),r=p(n,"H2",{});var X=m(r);$=I(X,"View"),X.forEach(d),C=w(n),o=p(n,"BUTTON",{});var z=m(o);g=I(z,"name"),z.forEach(d),J=w(n),_=p(n,"BUTTON",{});var F=m(_);i=I(F,"play"),F.forEach(d),h=w(n),k=p(n,"H2",{});var M=m(k);V=I(M,"Clock"),M.forEach(d),O=w(n),y=p(n,"BUTTON",{});var P=m(y);U=I(P,"start"),P.forEach(d),x=w(n),E=p(n,"P",{});var Q=m(E);T=I(Q,N),Q.forEach(d),n.forEach(d)},m(f,n){L(f,t,n),e(t,s),e(s,a),e(t,c),e(t,r),e(r,$),e(t,C),e(t,o),e(o,g),e(t,J),e(t,_),e(_,i),e(t,h),e(t,k),e(k,V),e(t,O),e(t,y),e(y,U),e(t,x),e(t,E),e(E,T),A||(H=[B(o,"click",l[3]),B(_,"click",l[4]),B(y,"click",l[5])],A=!0)},p(f,[n]){n&1&&N!==(N=f[0].toFixed(2)+"")&&W(T,N)},i:D,o:D,d(f){f&&d(t),A=!1,Y(H)}}}function rt(l,t,s){let a;const c=ot(0);j(l,c,i=>s(0,a=i));let r;const $=()=>{r=ct("https://dbmtysppmiwwjwaeneex.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI").channel("game"),r.subscribe()},C=()=>{c.set(0,{duration:0}),c.set(10,{duration:1e4}).then(()=>{console.log("end"),o({event:"clock",payload:!1})})},o=({event:i,payload:h})=>{r.send({type:"broadcast",event:i,payload:h}),i==="clock"&&h&&C()};return q(()=>{$()}),[a,c,o,()=>o({event:"view",payload:"name"}),()=>o({event:"view",payload:"play"}),()=>o({event:"clock",payload:!0})]}class it extends R{constructor(t){super(),Z(this,t,rt,lt,K,{})}}function dt(l){let t,s;return t=new it({}),{c(){G(t.$$.fragment)},l(a){tt(t.$$.fragment,a)},m(a,c){et(t,a,c),s=!0},p:D,i(a){s||(nt(t.$$.fragment,a),s=!0)},o(a){at(t.$$.fragment,a),s=!1},d(a){st(t,a)}}}class mt extends R{constructor(t){super(),Z(this,t,null,dt,K,{})}}export{mt as default};
